# Docker image
# Build a Docker image to deploy, run, or push to a container registry.
# Add steps that use Docker Compose, tag images, push to a registry, run an image, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/docker

trigger:
- master

pool:
  vmImage: 'Ubuntu-16.04'

steps: 
  - task: Bash@3
    inputs:
      filePath: 'setup_env.sh'
  - task: Bash@3
    inputs:
      filePath: 'build.sh'
  - task: Bash@3
    inputs:
      filePath: 'tests/generate_tests.sh'
  - task: Bash@3
    inputs:
      filePath: 'tests/test.sh'
  - task: Bash@3
    inputs:
      filePath: 'tests/test.sh'
  - task: PythonScript@0
    inputs:
      scriptSource: 'filePath'
      scriptPath: '.travis/deploy.py'
